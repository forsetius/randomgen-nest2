---
title: Moduł CMS
langs:
  en: 2025-08-06_cms-module
excerpt: Prace nad modułem CMS do RandomGena zakończone!
headerImage: mid-cms-module.jpg
category: blog
date: 2025-08-06
tags:
  - projekty
slots:
  aside:
    - type: static
      content: |
        ## Linki
        - [bardziej techniczny opis]{pl/randomgen}
        - [Repozytorium projektu](https://github.com/forsetius/randomgen-nest2)
lead: |
  Hurra! Pierwsza wersja modułu CMS ukończona! 
  
  Cóż to moduł CMS? Otóż jest to ta część aplikacji RandomGen, dzięki której czytasz tę stronę :)
---
RandomGen jest aplikacją wystawiającą generatory różnych rzeczy związanych z grami fabularnymi. W tej chwili jest dostępny jeden, drugi jest na wewnętrznych testach. Aby z nich skorzystać należy wysłać żądanie na dedykowany adres - dzięki temu generatory te mogą być używane w aplikacjach innych osób. Z drugiej jednak strony, dla zwykłego użytkownika użycie ich przez kliknięcie czegoś na stronie internetowej jest zdecydowanie łatwiejsze i bardziej pożądane. Stety, nie wszyscy są nerdami ;)

Potrzebowałem więc czegoś, co serwowałoby te strony internetowe. Te i inne, bo fajnie byłoby za jednym zamachem ogarnąć też np. własną wizytówkę internetową, pokazać galerię moich cudeniek, encyklopedię realiów Eclipse Phase RPG... Z drugiej strony, korzystne byłoby gdyby tego CMS-a udało się wyodrębnić i użyć bez generatorów i innych specyficznych dla mnie rzeczy. Stąd zamknięcie funkcjonalności zarządzania treścią w module, który ma jasno ustalone zależności i może być w razie potrzeby wraz z nimi dodawany do przyszłych aplikacji. 

## Działanie
Moduł CMS opiera się na pobieraniu definicji stron w formacie Markdown i przerabianiu ich na statyczne strony HTML. No, nie do końca statyczne, ale o tym za chwilę. Tak czy owak, na obecnym etapie nie potrzebuje bazy danych i po etapie rozruchu (który dla ~300 stron trwa kilka sekund) bardzo szybko wysyła wcześniej przygotowane strony do użytkownika. Jest to model, w którym kosztowna operacja (generowanie strony) jest wykonywana raz, by później tanio i wielokrotnie korzystać z jej wyników już bez angażowania serwera aplikacji.

Ale nie wszysto da się obsłużyć statycznie, raz zdefiniowaną treścią. Artykuły, dokumentację, bloga - tak, ale takich rzeczy jak logowanie użytkownika, formularz kontaktowy, strony generatorów, jakieś bardziej wymyślne galerie - nie. Dlatego do statycznego HTML-a dodałem bibliotekę HTMX, która dodaje do standardowego kodu strony elementy umożliwiające różne rodzaje interakcji (np. pobieranie treści) z serwerami i modyfikowanie lokalnej strony (np. żeby wyświetlić te treści). Te interakcje mogą być naprawdę różne - od pobierania wyników pracy generatora RandomGen-a przez pobieranie prognozy pogody ze zdalnego serwera po wysyłanie poczty.

## Funkcjonalności
No dobrze, ale jakie ficzery ma to cudeńko? Otóż:
- wielojęzyczność
- wszystkie standardowe formatowania Markdowna plus te z GFM
- uproszczone wstawianie linków wewnętrznych
- obsługę hierarchicznych kategorii. Kategorię można podzielić na podkategorie i każdą wyświetlać osobno
- obsługę tagowania. Tagi nie są hierarchiczne ale każda strona może ich mieć wiele
- wstawianie obrazków, wideo i ich galerii w obiekcie typu lightbox
- wstawianie galerii stron. Ich źródłem mogą być kategorie (i podkategorie), tagi i strony określone ręcznie. Wyświetlane mogę być np. jako proste linki albo jako ilustrowane karty z podpisami
- dynamiczne wyszukiwanie: uproszczone i pełne, w galerii

Jak wspomniałem, moduł CMS to jest ta rzecz, dzięki której widzisz tą stronę. Aby lepiej poznać jego możliwości możesz przejrzeć dokładniej pozostałe strony tego serwisu, w szczególności te o [Eclipse Phase RPG]{pl/eclipse-phase}, przykładowo: [Wenus]{pl/ep-atlas-wenus}.

