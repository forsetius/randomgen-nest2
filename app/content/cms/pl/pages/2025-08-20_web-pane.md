---
title: Web-pane
langs:
  en: 2025-08-20_web-pane
excerpt: Pierwsza używalna wersja apki `web-pane`
headerImage: mid-web-pane.jpg
category: blog
date: 2025-08-20
tags:
  - projekty
  - web-pane
slots:
  aside:
    - type: static
      content: |
        ## Linki
        - [bardziej techniczny opis]{pl/web-pane}
        - [Repozytorium projektu](https://github.com/forsetius/web-pane)
lead: |
  Hurra! Pierwsza wersja desktopowej apki `web-pane` jest gotowa! 
  
  A czym z kolei jest `web-pane`? Otóż dzięki tej aplikacji można sobie otworzyć na pulpicie pomocnicze okienka, które wiszą ponad innymi. W każdym z okienek można otworzyć kilka stron internetowych, które można sobie przełączać.
---
Potrzeba zrobienia tej apki wyszła trochę przypadkiem. Było mi ciasno na ekranie, no bo tak: otwarty edytor programistyczny, oprócz tego terminal, w przeglądarce ChatGPT, generatory grafik, strony z dokumentacją itd. Terminal ogarnąłem za pomocą Guake - fajny taki zadokowany na górze ekranu, pokazuje się i znika wg potrzeby.

<block id="guake-terminal" type="media" template="lightbox-image" src="guake-screenshot.png" title="Terminal Guake (na górze ekranu)" />

Za to okazało się, że z otwarciem okienka "referencyjnego" nad innymi jest kłopot. Jasne, w Linux Mint Cinnamon można sobie otwierać w mniejszych oknach strony internetowe przekształcone w web-apki (z minimalnym interfejsem przeglądarki) i to na kilka sposobów, ale trzeba im za każdym razem ustawiać "always on top". Można je dopiąć do panelu czy doku, ale to zagraca panel, listę okien, a same doki nie są aktywnie aktualizowane.

I tak sobie próbowałem różnych genialnych sposobów na zintegrowanie całego tego setupu, który miałem w głowie za pomocą różnych narzędzi, które podsuwał mi ChatGPT, aż w końcu machnąłem na to ręką i postanowiłem napisać coś swojego.

Jako że znam i lubie Node.js i TypeScript wybrałem opcję zrobienia aplikacji na Elektronie. [Elektron](https://www.electronjs.org/) pozwala tworzyć aplikacje desktopowe, które działają pod różnymi systemami operacyjnymi - Windows, Linux, macOS a programuje się w JavaScript. Jako że nie miałem z nim wcześniej do czynienia, poprosiłem o pomoc Chata GPT i... o tej pomocy AI w programowaniu to napiszę chyba osobną notkę. W każdym razie zwrócił minimalny kod, który w zasadzie działał (nie do końca jak chciałem), ale już od razu było widać, że skoro na początku projektu wygląda niechlujnie i jest zagmatwany to w miarę dodawania funkcjonalności, będzie coraz większy dramat.

Więc przepisałem wszystko od zera, nadałem temu jakąś architekturę, zacząłem testować i dodawać różne funkcjonalności. Okazało się, że na skutek ograniczeń Elektrona nie wszystko da się zaimplementować (w szczególności poległa idea pełnego zintegrowania z dokami, z sygnalizowaniem, które webapki są odpalone) a niektóre rzeczy trzeba zrobić inaczej (chyba się nie dowiem, dlaczego Elektron robi taką sieczkę z argumentami, które przekazuje do głównej instancji), ale udało się.

Aktualnie aplikacja ma następujące możliwości:
- otwieranie wielu stron internetowych w jednym z dwóch okienek - z linii poleceń lub z wyzwalacza
- przełączanie między nimi z linii poleceń, wyzwalaczy doku lub skrótu klawiszowego
- okienka pozostają zawsze na wierzchu ale można je zminimalizować, znów: z linii poleceń, wyzwalacza lub skrótu klawiszowego
- z otwartą stroną internetową można prowadzić interakcje: przeładowywać ją, zamykać, nawigować w przód i w tył, manipulować powiększeniem - wszystko skrótami klawiszowymi
- okna można przemieszczać a aplikacja zapamiętuje ich pozycje
- aplikacja jest wielojęzyczna

<block id="web-pane" type="media" template="lightbox-image" src="web-pane.png" title="Na dole standardowy panel Cinnamona, po bokach doki Planka a po prawej stronie wiszące okno web-pane" />

I to by było na tyle w wersji 0.6. Mam jeszcze sporo pomysłów na rozbudowę, ale nawet w tej chwili apka zdaje egzamin a ja mam więcej porządku na pulpicie :)
